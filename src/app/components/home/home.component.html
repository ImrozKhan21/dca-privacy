<section class="flex w-full justify-center flex-col home-container">
  <div class="flex flex-row justify-around bg-gray-900 video-container">
    <div class="video">
      <app-video-banner></app-video-banner>
    </div>
  </div>

  <div class="flex flex-row p-3 flex-wrap items-center justify-center bg-yellow-400 h-16 shadow-normal">
    <span class="mr-3 mb-0 text-lg">For more content and awesome stuff</span>
    <p-button icon="pi pi-bell" class="p-button-raised" label="JOIN FREE"></p-button>
  </div>

  <div class="p-4 relative">
    <app-search-by-autocomplete *ngIf="legislationData?.length" [searchByOptions]="searchByOptions"
                                [allDataForOptions]="legislationData"
                                [preSelectedSearchBy]="searchByOptions[0]"
                                (optionClicked)="itemSelectedInDropdown($event)"
                                (searchBySelected)="searchBySelected($event)"
                                (itemSearched)="itemSearched($event)"
                                (resetAll)="reset()">
    </app-search-by-autocomplete>

    <p-progressSpinner class="item-center-n-relative" *ngIf="!(legislationData?.length)"></p-progressSpinner>
  </div>


  <div *ngIf="legislationData?.length" class="p-4 pt-0">
    <p-accordion [multiple]="true" expandIcon="pi pi-fw pi-plus" collapseIcon="pi pi-fw pi-minus">
      <p-accordionTab *ngIf="countrySelected || searchVal === ''" [selected]="true">
        <ng-template pTemplate="header"><span class="text-cyan-900">News Feed</span></ng-template>
        <ng-template pTemplate="content">
          <ng-container *ngIf="newsFeedData?.length">

            <app-news-feed [selectedOption]="selectedOption" [newsFeed]="newsFeedData"></app-news-feed>
          </ng-container>
        </ng-template>
      </p-accordionTab>

      <p-accordionTab *ngIf="countrySelected || searchVal === ''">
        <ng-template pTemplate="header"><span class="text-cyan-900">Regulators</span></ng-template>
        <ng-template pTemplate="content">
          <ng-container *ngIf="regulatorData?.length">
            <app-regulators [selectedOption]="selectedOption" [regulatorData]="regulatorData">
            </app-regulators>
          </ng-container>
        </ng-template>
      </p-accordionTab>

      <p-accordionTab [selected]="!(countrySelected || searchVal === '')">
        <ng-template pTemplate="header"><span class="text-cyan-900">Laws</span></ng-template>
        <ng-template pTemplate="content">
          <app-laws [selectedOption]="selectedOption" [legislationData]="legislationData" [isCountrySelected]="!!countrySelected">
          </app-laws>
        </ng-template>
      </p-accordionTab>
    </p-accordion>
  </div>
</section>
