<div class="flex flex-col pt-[70px] w-100% sm-[90%] lg:w-[80%] md:w-[80%] m-auto">
  <div class="show-in-medium-large mr-4 pl-4 pb-8 w-full mt-10">
    <p-sidebar *ngIf="keyIssues" [(visible)]="display"
               [modal]="false" [style]="{width:'450px'}">
      <ng-container *ngTemplateOutlet="sidebarContent"></ng-container>
    </p-sidebar>
  </div>

  <div class="ml-[450px] mr-4 pl-4 pb-8 show-in-medium-large">
    <ng-container *ngTemplateOutlet="mainContent"></ng-container>
  </div>

  <div class="mr-1 pl-1 pb-8 w-full show-in-small">
    <ng-container *ngTemplateOutlet="mainContent"></ng-container>
  </div>
</div>

<ng-template #sidebarContent>
  <div class="mr-4 pl-4 pb-8 mt-10">
    <p class="text-[24px]">Key Issues</p>
    <p-divider></p-divider>
    <div *ngFor="let issue of keyIssues">
      <ng-container>
        <p class="border-solid cursor-pointer border-b p-1 mr-2 text-sm-12 font-light text-sky-600"
           (click)="navigateToKeyIssues(issue)">
          {{issue.title}}
        </p>
      </ng-container>
    </div>
  </div>
</ng-template>

<ng-template #mainContent>
  <div *ngIf="defaultView">
    <div class="mb-12">
      <p class="cursor-pointer mr-2 font-light text-sky-600 flex flex-row items-center" (click)="navigateToLegislation()">
        <i class="pi pi-angle-left"></i>
        <span>Law</span>
      </p>
      <p-divider></p-divider>
      <p class="text-[40px] text-sky-900 text-center mb-1 font-semibold">{{currentLegislation}}</p>
      <p class="text-[32px] text-center mb-1 font-semibold">Key Issues</p>
      <p-divider></p-divider>
    </div>

    <div class="mb-4" *ngIf="keyIssues">
      <p>{{keyIssues[0].keyIssueDesc}}</p>
    </div>

    <div *ngFor="let issue of keyIssues">
      <ng-container>
        <p class="border-solid cursor-pointer border-b p-1 mr-2 text-sm-12 font-light text-sky-600"
           (click)="navigateToKeyIssues(issue)">
          {{issue.title}}
        </p>
      </ng-container>
    </div>
  </div>

  <div class="mb-5" *ngIf="!defaultView && currentKeyIssue">
    <div class="flex flex-row justify-between">
      <p class="cursor-pointer text-sky-500 text-right" (click)="goToAllIssues()">All Key Issues</p>
    </div>
    <p-divider></p-divider>
    <p class="text-[40px] text-sky-900 text-center mb-1 font-semibold">{{currentLegislation}}</p>
    <p class="text-[32px] text-center mb-1 font-semibold">{{currentKeyIssue.title}}</p>
    <p-divider></p-divider>
    <p class="mt-[50px]">{{currentKeyIssue.desc}}</p>
  </div>

  <p class="border-solid cursor-pointer border-t p-1 mr-2 font-light text-sky-600 text-center"
     (click)="navigateToLegislation()">
    Table of Content
  </p>
</ng-template>
